<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="custom_report_partner_ledger">
        <t t-call="web.basic_layout">
            <div class="page">
                <div class='header' style="width: 45%; float: left; position:relative; top:0; right:0;">
                    <group>
                        <div style="width:1000px;">
                            <img src='/web/binary/company_logo' style="width:30% position: absolute; top: 100px; right: 100px;"/>
                            <span style="padding-left:280px;" t-esc="time.strftime('%Y-%m-%d %H:%M:%S')"/>
                            <span style="padding-left:290px;" class="page" /> / <span class="topage" />
                        </div>
                    </group>
                </div>
                <div class="oe_structure">
                    <div class="row">
                        <div style=" padding:15px;">
                            <h2>Partner Ledger</h2>
                        </div>
                    </div>
                        <table class="table table-striped table-bordered">
                            <t t-set="sum_debit" t-value="0"/>
                            <t t-set="sum_credit" t-value="0"/>
                            <t t-set="sum_balance" t-value="0"/>
                            <thead>
                                <tr>
                                    <th><b>Partner</b></th>
                                    <th><b>Date</b></th>
                                    <!--                                <b><th>Company</th></b>-->
                                    <th><b>Label</b></th>
                                    <th><b>Matching</b></th>
                                    <th><b>Debit</b></th>
                                    <th><b>Credit</b></th>
                                    <th><b>Balance</b></th>
                                </tr>
                            </thead>
                            <t t-foreach="docs" t-as="o">
                                <tr>
                                    <td>
                                        -
                                        <span t-field="o.partner_id.name"/>
                                    </td>
                                    <td>
                                        <span t-field="o.date"/>
                                    </td>
                                    <!--                                    <td>-->
                                    <!--                                        <span t-field="o.company_id"/>-->
                                    <!--                                    </td>-->
                                    <td>
                                        <span t-field="o.name"/>
                                    </td>
                                    <td>
                                        <span t-field="o.matching_number"/>
                                    </td>
                                    <td>
                                        <span t-field="o.debit"/>
                                        <t t-set="sum_debit" t-value="sum_debit + o.debit" invisible="1"/>
                                    </td>
                                    <td>
                                        <span t-field="o.credit"/>
                                        <t t-set="sum_credit" t-value="sum_credit + o.credit" invisible="1"/>
                                    </td>
                                    <td>
                                        <span t-field="o.balance"/>
                                        <t t-set="sum_balance" t-value="sum_balance + o.balance" invisible="1"/>
                                    </td>
                                </tr>
                            </t>
                            <tr>
                                <td colspan="5" class="text-right"> <span t-esc="sum_debit"></span> </td>
                                <td colspan="1" class="text-center"> <span t-esc="sum_credit"></span> </td>
                                <td colspan="1" class="text-center"><font style="font-weight: 900;"><span t-esc="sum_balance"></span> </font></td>
                            </tr>
                        </table>
                </div>
                <div class='footer' style="width: 45%; float: left; position:relative; top:0; right:0;">
                    <div style="width:1000px;">
                        <hr></hr>
                        <table>
                            <thead>
                                <tr>
                                    <th ><b>Address</b></th>
                                    <th style="padding-left:200px;"><b>Email</b></th>
                                    <th style="padding-left:200px;;"><b>Phone</b></th>
                                </tr>
                            </thead>

                            <t t-set="abc" t-value="0"/>
                            <t t-foreach="docs" t-as="o">
                                <t t-if="abc &lt; 1">
                                    <td>
                                        <span t-field="o.company_id.street"/>
                                    </td>
                                    <td style="padding-left:200px;">
                                        <span t-field="o.company_id.email"/>
                                    </td>
                                    <td style="padding-left:200px;">
                                        <span t-field="o.company_id.phone"/>
                                    </td>
                                    <t t-set="abc" t-value="abc + 1" invisible="1"/>
                                </t>
                            </t>
                        </table>
                    </div>
                </div>
            </div>
        </t>
    </template>
</odoo>